Check for duplicate attributes.

Check for violations of interleave restriction.

Approximation warnings:
- interleave
- mixed text
- list containing a group of two non-empty tokens
- element wildcard with content that does not allow everything
- wildcards with two or more negative namespaces
- wildcards with negative single names
- choice between elements and data

Provide annotation to control which target namespace is assigned to a file.

Take advantage of minOccurs > 1 and 1 < maxOccurs < infinity.

If expansion of a group causes the group to become unreferenced, then remove the group.

Map

  foo = element bar|baz { xyzzy }

<xs:group name="foo">
  <xs:choice>
    <xs:element name="bar" type="foo"/>
    <xs:element name="baz" type="foo"/>
  </xs:choice>
</xs:group>

<xs:complexType name="foo">
  xyzzy
</xs:complexType>

Use complexTypes for groups and simpleTypes with associated attributes, even if not all references can
make use of them.

Use the last component of the namespace URI in selecting prefix and generated schema file when no prefix is used in the
RELAX NG.

Try using default namespace declaration to refer to things in targetNamespace.

Make choice of targetNamespace not depend on order of hash table iteration.

Handle nested grammars (use different namespace for different grammars).

Handle include overrides: (1) resolve (2) turn into <redefine>.

Preserve definitions that are equivalent to empty or notAllowed.

Handle externalRef (remember problem with parentRef in externalRef)

Interleave
- Avoid introducing ambiguities when approximating <interleave>, eg x & (y, y).
- Take advantage of xs:all.
- Optimize nested choices in expanding <interleave>.
- Optimize eg x* & (a, b, c) into x*, (a, x*), (b, x*), (c, x*)

For a <value type="NOTATION"/>, map to NOTATION and generate an appropriate xs:notation declaration
based on annotations.

Deal with xsi attributes.

Make use of element substitution groups; may affect which elements are global.

Deal with comments

Deal with annotations (provide special support for xs:key/xs:keyRef/xs:unique).

Deal with a:documentation

Deal with element type consistent restriction

Deal with ambiguous content model restriction

Support attribute defaults (should be field on OptionalAttribute).

Avoid redundant imports and redundant namespace declarations.
